import{d as V,r as a,o as _,c as m,w as t,a as e,b as o,p as J,k as E,l as g,_ as H,e as w,s as K,m as Q,n as W,q as X,v as x,t as C,j as i}from"./index-DednGyhX.js";import{u as Y,a as D}from"./useProjectStore-W1t_xDks.js";import{u as Z,J as ee}from"./useTodoStore-BizL2kDl.js";import{f as te}from"./utils-DBKh7t1p.js";const oe="/assets/not-found-CbNlbGjx.webp",ne=u=>(J("data-v-7f4c7af3"),u=u(),E(),u),ae=ne(()=>g("img",{src:oe,alt:""},null,-1)),le=V({name:"ProjectNotFound",__name:"project-not-found",setup(u){return(v,y)=>{const d=a("nue-text"),h=a("nue-div");return _(),m(h,{class:"project-not-found",vertical:""},{default:t(()=>[ae,e(d,{align:"center",size:"medium",color:"gray"},{default:t(()=>[o(" Unfortunately, the project you are looking for does not exist. ")]),_:1}),e(d,{align:"center",size:"medium",color:"gray"},{default:t(()=>[o(" Please check the URL or try again later. ")]),_:1})]),_:1})}}}),se=H(le,[["__scopeId","data-v-7f4c7af3"]]),re=g("li",null,"10",-1),ce=g("li",null,"20",-1),ie=g("li",null,"30",-1),_e=V({name:"ProjectView",__name:"index",props:{projectId:{}},setup(u){const v=u,y=X(),d=Y(),h=Z(),b=w(""),{selectedTodoId:S}=K(h),j=w(!1),k=w("todo"),B=w(!1),c=Q(()=>te(d.projects,s=>s.id===v.projectId)||null);function T(n){k.value=n,D({title:"Create new todo",placeholder:"Please input todo name here...",confirmButtonText:"Create",cancelButtonText:"Cancel",validator:s=>s}).then(s=>{z(s)})}function z(n){h.create(c.value.id,n,k.value).then(()=>{i({message:"Create todo successfully",type:"success"}),j.value=!1},s=>{i({message:s,type:"error"}),j.value=!1})}function A(n){S.value=n,B.value=!0}function I(){ee({title:"Delete project",content:"Are you sure to delete this project?",confirmButtonText:"Sure",cancelButtonText:"Cancel"}).then(()=>{d.remove(c.value.id).then(()=>{i({message:"Project deleted successfully",type:"success"})},n=>{i({message:n,type:"error"})})},()=>i({message:"Operation canceled",type:"info"}))}function N(){D({title:"Add description",placeholder:"Please input description here...",confirmButtonText:"Save",cancelButtonText:"Cancel",validator:n=>n}).then(n=>{d.update(c.value.id,{description:n})}).then(n=>i.success("Description saved successfully")).catch(n=>i.error("Failed to save description."))}return x("currentProject",c),x("showAddTodoPopup",T),x("showTodoDetailsDrawer",A),W(()=>{y.replace({name:"board"})}),(n,s)=>{const p=a("nue-text"),r=a("nue-button"),l=a("nue-div"),F=a("nue-avatar"),f=a("nue-link"),R=a("nue-divider"),O=a("nue-input"),U=a("nue-header"),$=a("router-view"),L=a("nue-main"),M=a("nue-select"),q=a("nue-footer"),G=a("nue-container");return c.value?(_(),m(l,{key:1,vertical:"",wrap:"nowrap",height:"100%"},{default:t(()=>[e(l,{align:"center",justify:"space-between",wrap:"nowrap"},{default:t(()=>[e(l,{vertical:"",gap:"4px",flex:""},{default:t(()=>[e(p,{size:"24px",weight:"bold"},{default:t(()=>[o(C(c.value.name),1)]),_:1}),c.value.description?(_(),m(p,{key:0,size:"12px",color:"gray"},{default:t(()=>[o(C(c.value.description),1)]),_:1})):(_(),m(r,{key:1,theme:"pure",icon:"plus",onClick:N},{default:t(()=>[o(" Add description ")]),_:1}))]),_:1}),e(l,{align:"center",justify:"end",flex:"",gap:"8px"},{default:t(()=>[e(p,{size:"12px"},{default:t(()=>[o("Create by")]),_:1}),e(F,{src:"https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif?imageView2/1/w/80/h/80"})]),_:1})]),_:1}),e(l,{style:{"margin-top":"16px"},justify:"space-between",wrap:"nowrap",align:"center"},{default:t(()=>[e(l,{flex:""},{default:t(()=>[e(f,{theme:"btnlike",disabled:""},{default:t(()=>[o(" Dashboard ")]),_:1}),e(f,{theme:"btnlike",route:"board"},{default:t(()=>[o(" Board ")]),_:1}),e(f,{theme:"btnlike",disabled:""},{default:t(()=>[o(" List ")]),_:1}),e(f,{theme:"btnlike",disabled:""},{default:t(()=>[o(" Timeline ")]),_:1}),e(f,{theme:"btnlike",disabled:""},{default:t(()=>[o(" Menbers ")]),_:1}),e(f,{theme:"btnlike",disabled:""},{default:t(()=>[o(" Files ")]),_:1})]),_:1}),e(l,{flex:"",width:"fit-content"},{default:t(()=>[e(r,{theme:"pure",icon:"delete",onClick:I},{default:t(()=>[o(" Delete ")]),_:1})]),_:1})]),_:1}),e(R),e(G,{style:{height:"100%"}},{default:t(()=>[e(U,{style:{padding:"0",border:"none",height:"fit-content"}},{default:t(()=>[e(l,{align:"center",justify:"space-between",wrap:"nowrap",gap:"16px"},{default:t(()=>[e(l,{wrap:"nowrap",flex:"none",width:"fit-content",gap:"12px"},{default:t(()=>[e(O,{theme:"small",modelValue:b.value,"onUpdate:modelValue":s[0]||(s[0]=P=>b.value=P),placeholder:"Filter tasks",icon:"filter",clearable:""},null,8,["modelValue"]),e(r,{theme:"small",icon:"plus-circle"},{default:t(()=>[o("Status")]),_:1}),e(r,{theme:"small",icon:"plus-circle"},{default:t(()=>[o("Priority")]),_:1})]),_:1}),e(l,{justify:"end",flex:"none",width:"fit-content",gap:"12px"},{default:t(()=>[e(r,{theme:"small,primary",icon:"plus-circle",onClick:s[1]||(s[1]=P=>T("todo"))},{default:t(()=>[o("Add")]),_:1}),e(r,{theme:"small",icon:"menu"},{default:t(()=>[o("View")]),_:1})]),_:1})]),_:1})]),_:1}),e(L,{style:{margin:"16px 0"}},{default:t(()=>[e($)]),_:1}),e(q,{style:{padding:"4px",border:"none",height:"fit-content"}},{default:t(()=>[e(l,{align:"center",justify:"space-between",wrap:"nowrap"},{default:t(()=>[e(p,{size:"12px",color:"gray",flex:""},{default:t(()=>[o("0 of 100 row(s) selected.")]),_:1}),e(l,{align:"center",justify:"end",width:"fit-content",wrap:"nowrap",gap:"32px"},{default:t(()=>[e(l,{align:"center",width:"fit-content",gap:"8px"},{default:t(()=>[e(p,{size:"12px"},{default:t(()=>[o("Rows per page")]),_:1}),e(M,{size:"small"},{default:t(()=>[re,ce,ie]),_:1})]),_:1}),e(p,{size:"12px"},{default:t(()=>[o("Page 1 of 10")]),_:1}),e(l,{width:"fit-content",gap:"8px"},{default:t(()=>[e(r,{theme:"small",icon:"arrow-left-more"}),e(r,{theme:"small",icon:"arrow-left"}),e(r,{theme:"small",icon:"arrow-right"}),e(r,{theme:"small",icon:"arrow-right-more"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):(_(),m(se,{key:0}))}}});export{_e as default};
